///////////////////////////////////////////////////////////////////////////////
// File: common_log.h
///////////////////////////////////////////////////////////////////////////////
// Purpose: Defines logging functionality that will be used by both the
// injector and the payload.
///////////////////////////////////////////////////////////////////////////////
// Author: Deniz Sezen
///////////////////////////////////////////////////////////////////////////////
#pragma once

///////////////////////////////////////////////////////////////////////////////
// Includes
///////////////////////////////////////////////////////////////////////////////

// Standard C library includes
#include <stdio.h>
#include <stdint.h>

// Common includes
#include "common_console.h"

///////////////////////////////////////////////////////////////////////////////
// Defines
///////////////////////////////////////////////////////////////////////////////

/** Because windows is bullshit. */
#ifdef DEBUG
    #undef DEBUG
#endif

#ifdef ERROR
#   undef ERROR
#endif

///////////////////////////////////////////////////////////////////////////////
// Enumerations
///////////////////////////////////////////////////////////////////////////////

/** Different log levels. */
enum class ELogLevel : uint8_t
{
    DEBUG,
    ERROR,
    WARNING,
    INFO
};

///////////////////////////////////////////////////////////////////////////////
// Module functions
///////////////////////////////////////////////////////////////////////////////

/**
 * Logs a message.
 * @param eLogLevel What level to log the message at.
 * @param szFormat String containing control characters.
 * @param ... Control character replacement strings.
 */
void LogPrintf(const ELogLevel& eLogLevel, const wchar_t* szFormat, ...);